<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>BBPS smart bin | </title>

    <!-- Bootstrap -->
    <link href="../vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="../build/css/custom.min.css" rel="stylesheet">

    <style>
      #right-panel {
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }

      #right-panel select, #right-panel input {
        font-size: 15px;
      }

      #right-panel select {
        width: 100%;
      }

      #right-panel i {
        font-size: 12px;
      }
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
        float: left;
        width: 70%;
        height: 100%;
      }
      #right-panel {
        margin: 20px;
        border-width: 2px;
        width: 20%;
        height: 400px;
        float: left;
        text-align: left;
        padding-top: 0;
      }
      #directions-panel {
        margin-top: 10px;
        background-color: #FFEE77;
        padding: 10px;
        overflow: scroll;
        height: 174px;
      }
    </style>

  </head>

  <body class="nav-md">
    <div class="container body">
      <div class="main_container">
        <div class="col-md-3 left_col">
          <div class="left_col scroll-view">
            <div class="navbar nav_title" style="border: 0;">
              <a href="index.html" class="site_title"><i class="fa fa-paw"></i> <span>BBPS smart bin</span></a>
            </div>

            <div class="clearfix"></div>

            <!-- menu profile quick info -->
            <div class="profile clearfix">
              <div class="profile_pic">
                <img src="images/img.jpg" alt="..." class="img-circle profile_img">
              </div>
              <div class="profile_info">
                <span>Welcome,</span>
                <h2>Admin</h2>
              </div>
              <div class="clearfix"></div>
            </div>
            <!-- /menu profile quick info -->

            <br />

            <!-- sidebar menu -->
            <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
              <div class="menu_section">
                <h3>General</h3>
                <ul class="nav side-menu">
                  <li><a><i class="fa fa-bar-chart-o"></i> Home <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="index.html">Analytics</a></li>
                      <li><a href="index2.html">Optimal Route Finder</a></li>
                    </ul>
                  </li>
                </ul>
              </div>


            </div>
            <!-- /sidebar menu -->

            <!-- /menu footer buttons -->
            <div class="sidebar-footer hidden-small">
              <a data-toggle="tooltip" data-placement="top" title="Settings">
                <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="FullScreen">
                <span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="Lock">
                <span class="glyphicon glyphicon-eye-close" aria-hidden="true"></span>
              </a>
              <a data-toggle="tooltip" data-placement="top" title="Logout" href="login.html">
                <span class="glyphicon glyphicon-off" aria-hidden="true"></span>
              </a>
            </div>
            <!-- /menu footer buttons -->
          </div>
        </div>

        <!-- top navigation -->
        <div class="top_nav">
          <div class="nav_menu">
            <nav>
              <div class="nav toggle">
                <a id="menu_toggle"><i class="fa fa-bars"></i></a>
              </div>

              <ul class="nav navbar-nav navbar-right">
                <li class="">
                  <a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                    <img src="images/img.jpg" alt="">John Doe
                    <span class=" fa fa-angle-down"></span>
                  </a>
                  <ul class="dropdown-menu dropdown-usermenu pull-right">
                    <li><a href="javascript:;"> Profile</a></li>
                    <li>
                      <a href="bbps-bin-settings.html">
                        <span class="badge bg-red pull-right">50%</span>
                        <span>Settings</span>
                      </a>
                    </li>
                    <li><a href="javascript:;">Help</a></li>
                    <li><a href="login.html"><i class="fa fa-sign-out pull-right"></i> Log Out</a></li>
                  </ul>
                </li>

                <li role="presentation" class="dropdown">
                  <a href="javascript:;" class="dropdown-toggle info-number" data-toggle="dropdown" aria-expanded="false">
                    <i class="fa fa-envelope-o"></i>
                    <span class="badge bg-green">6</span>
                  </a>
                  <ul id="menu1" class="dropdown-menu list-unstyled msg_list" role="menu">
                    <li>
                      <a>
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li>
                      <a>
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li>
                      <a>
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li>
                      <a>
                        <span class="image"><img src="images/img.jpg" alt="Profile Image" /></span>
                        <span>
                          <span>John Smith</span>
                          <span class="time">3 mins ago</span>
                        </span>
                        <span class="message">
                          Film festivals used to be do-or-die moments for movie makers. They were where...
                        </span>
                      </a>
                    </li>
                    <li>
                      <div class="text-center">
                        <a>
                          <strong>See All Alerts</strong>
                          <i class="fa fa-angle-right"></i>
                        </a>
                      </div>
                    </li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main">
          <div class="">
            <div class="page-title">
              <div class="title_left">
                <h3>Optimal Route Finder</h3>
              </div>

              <div class="title_right">
                <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                  <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search for...">
                    <span class="input-group-btn">
                      <button class="btn btn-default" type="button">Go!</button>
                    </span>
                  </div>
                </div>
              </div>
            </div>

            <div class="clearfix"></div>

            <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>Map</h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                      <div id="map" class="x_content" style="height: 500px"></div>
                      <div id="right-panel" style="width: 300pt">
                        <div>
                          <b>Start:</b>
                          <select id="start">
                            <option value="Ace Honda Naksha Enterprises, Block F, Kondli, Noida, Uttar Pradesh">Pickup Office 1</option>
                            <option value="Rockwood School, Sector 33, Noida">Pickup Office 2</option>
                            <option value="Angels Public School, Vasundhara Enclave, Delhi">Pickup Office 3</option>
                          </select>
                          <br>
                          <b>Waypoints:</b> <br>
                          <i>(Ctrl+Click or Cmd+Click for multiple selection)</i> <br>
                          <select multiple id="waypoints">
                            <option value="Bal Bharati Public School, Noida, Uttar Pradesh">Bin #1 - Bal Bharati Public School, Noida, Uttar Pradesh</option>
                            <option value="ASN Sr Sec School, Delhi">Bin #2 - ASN Sr Sec School, Delhi</option>
                            <option value="Vishwa Bharati Public School, Sector 28, Noida, Uttar Pradesh">Bin #3 - Vishwa Bharati Public School, Sector 28, Noida, Uttar Pradesh</option>
                            <option value="Cambridge School, Noida, Uttar Pradesh">Bin #4 - Cambridge School, Noida, Uttar Pradesh</option>
                            <option value="Ahlcon Public School, Delhi">Bin #5 - Ahlcon Public School, Delhi</option>
                            <option value="Vidya Bal Bhawan Sr. Sec. School, Delhi">Bin #6 - Vidya Bal Bhawan Sr. Sec. School, Delhi</option>
                            <option value="Somerville School, Sector 22, Noida, Uttar Pradesh">Bin #7 - Somerville School, Sector 22, Noida, Uttar Pradesh</option>
                            <option value="Indus Valley Public School, Sector 62, Noida">Bin #8 - Indus Valley Public School, Sector 62, Noida</option>
                            <option value="Apeejay School, Sector 16A, Noida">Bin #9 - Apeejay School, Sector 16A, Noida</option>
                            <option value="Delhi Public School Noida, Sector 30, Noida">Bin #10 - Delhi Public School Noida, Sector 30, Noida</option>
                            <option value="Ryan International School, Sector 39, Noida">Bin #11 - Ryan International School, Sector 39, Noida</option>
                            <option value="Evergreen Public School, Delhi">Bin #12 - Evergreen Public School, Delhi</option>
                            <option value="Kendriya Vidyalaya, Sector 24, Noida">Bin #13 - Kendriya Vidyalaya, Sector 24, Noida</option>

                            <!-- <option value="Dashmesh Public School, Vasundhara Enclave, Delhi">Bin #14 - Dashmesh Public School, Vasundhara Enclave, Delhi</option>
                            <option value="Ryan International School, Mayur Vihar Phase III, Delhi">Bin #15 - Ryan International School, Mayur Vihar Phase 3, Delhi</option>
                            <option value="Amity International School, Mayur Vihar Phase 1, Delhi">Bin #16 - Amity International School, Mayur Vihar Phase 1, Delhi</option>
                            <option value="Queen Mary's School, Mayur Vihar Phase 1, Delhi">Bin #17 - Queen Mary's School, Mayur Vihar Phase 1, Delhi</option>
                            <option value="Somerville School, Vasundhara Enclave, Delhi">Bin #18 - Somerville School, Vasundhara Enclave, Delhi</option>
                            <option value="Angels Public School, Vasundhara Enclave, Delhi">Bin #19 - Angels Public School, Vasundhara Enclave, Delhi</option>
                            <option value="Rockwood School, Sector 33, Noida">Bin #20 - Rockwood School, Sector 33, Noida</option> -->
                          </select>
                          <br>
                          <b>End:</b>
                          <select id="end">
                            <option value="Ryan International School, Mayur Vihar Phase III, Delhi">Processing Site 1</option>
                            <option value="Billabong High International School, Block A, Sector 34, Noida, Uttar Pradesh">Processing Site 2</option>
                            <option value="Pathways School Noida, Sector 100, Noida, Uttar Pradesh">Processing Site 3</option>
                          </select>
                          <br>
                          <input type="submit" id="submit">
                        </div>
                        <div id="directions-panel"></div>
                      </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
        <!-- /page content -->

        <!-- footer content -->
        <footer>
          <div class="pull-right">
            Bal Bharati Public School, Noida
          </div>
          <div class="clearfix"></div>
        </footer>
        <!-- /footer content -->
      </div>
    </div>

    <!-- jQuery -->
    <script src="../vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="../vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <script src="../vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="../vendors/nprogress/nprogress.js"></script>

    <!-- Load c3.css -->
    <link href="../vendors/c3/c3.min.css" rel="stylesheet">

    <!-- Load d3.js and c3.js -->
    <script src="../vendors/c3/d3.min.js" charset="utf-8"></script>
    <script src="../vendors/c3/c3.min.js"></script>

    <!-- Custom Theme Scripts -->
    <script src="../build/js/custom.min.js"></script>

    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBr-jHR4FXKVwNsEZqwvGXm7qDwm234gL4&callback=initMap">
    </script>

    <script>
    $.ajax({
      url: '../build/res/data4.json',
      dataType: 'json',
      async: false,
      success: function(data) {
        console.log(data);
        myData = data;
      }
    });

    function initMap() {
        var directionsService = new google.maps.DirectionsService;
        var directionsDisplay = new google.maps.DirectionsRenderer;
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 12,
          center: {lat: 28.588, lng: 77.327}
        });
        directionsDisplay.setMap(map);

        document.getElementById('submit').addEventListener('click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay);
        });
      }

      function calculateAndDisplayRoute(directionsService, directionsDisplay) {
        var waypts = [];
        var checkboxArray = document.getElementById('waypoints');
        for (var i = 0; i < checkboxArray.length; i++) {
          if (checkboxArray.options[i].selected) {
            waypts.push({
              location: checkboxArray[i].value,
              stopover: true
            });
          }
        }

        directionsService.route({
          origin: document.getElementById('start').value,
          destination: document.getElementById('end').value,
          waypoints: waypts,
          optimizeWaypoints: true,
          travelMode: 'DRIVING'
        }, function(response, status) {
          if (status === 'OK') {
            directionsDisplay.setDirections(response);
            var route = response.routes[0];
            var summaryPanel = document.getElementById('directions-panel');
            summaryPanel.innerHTML = '';
            // For each route, display summary information.
            for (var i = 0; i < route.legs.length; i++) {
              var routeSegment = i + 1;
              summaryPanel.innerHTML += '<b>Route Segment: ' + routeSegment +
                  '</b><br>';
              summaryPanel.innerHTML += route.legs[i].start_address + ' to ';
              summaryPanel.innerHTML += route.legs[i].end_address + '<br>';
              summaryPanel.innerHTML += route.legs[i].distance.text + '<br><br>';
            }
          } else {
            window.alert('Directions request failed due to ' + status);
          }
        });
      }





    </script>
  </body>
</html>
